/* ============================================
   MICRO-INTERAÇÕES E ANIMAÇÕES MODERNAS
   Design: Sutis, não exageradas
   ============================================ */

/* ====================
   HOVER EFFECTS
   ==================== */

/* Links com underline animado */
a:not(.hero__cta):not(.btn-primary):not(.site-header__nav-link) {
  position: relative;
  text-decoration: none;
}

a:not(.hero__cta):not(.btn-primary):not(.site-header__nav-link)::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 1px;
  background: currentColor;
  transition: width 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

a:not(.hero__cta):not(.btn-primary):not(.site-header__nav-link):hover::after {
  width: 100%;
}

/* Botões com efeito de "breathing" sutil */
.hero__cta,
.contato__cta,
.credenciais__cta,
button[data-cal-link] {
  position: relative;
  overflow: hidden;
}

.hero__cta::before,
.contato__cta::before,
.credenciais__cta::before,
button[data-cal-link]::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  transform: translate(-50%, -50%);
  transition: width 0.6s ease, height 0.6s ease;
}

.hero__cta:hover::before,
.contato__cta:hover::before,
.credenciais__cta:hover::before,
button[data-cal-link]:hover::before {
  width: 300px;
  height: 300px;
}

/* ====================
   SCROLL EFFECTS
   ==================== */

/* Parallax sutil em backgrounds */
@media (prefers-reduced-motion: no-preference) {
  .hero__background,
  .manifesto__backdrop,
  .credenciais__backdrop {
    will-change: transform;
  }

  /* Aplicado via JS */
  [data-parallax] {
    transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }
}

/* ====================
   CARDS E ELEMENTOS
   ==================== */

/* Card hover com lift e glow */
.credenciais__card,
.entregavel,
.para-quem__item {
  transition:
    transform 0.3s cubic-bezier(0.16, 1, 0.3, 1),
    box-shadow 0.3s cubic-bezier(0.16, 1, 0.3, 1),
    border-color 0.3s ease;
}

.credenciais__card:hover,
.entregavel:hover,
.para-quem__item:hover {
  transform: translateY(-4px);
  box-shadow:
    0 12px 40px rgba(18, 19, 16, 0.12),
    0 0 0 1px rgba(125, 168, 123, 0.1);
}

/* ====================
   LOADING STATES
   ==================== */

/* Skeleton loading para conteúdo dinâmico */
@keyframes skeleton-loading {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    rgba(125, 168, 123, 0.05) 25%,
    rgba(125, 168, 123, 0.12) 50%,
    rgba(125, 168, 123, 0.05) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s ease-in-out infinite;
  border-radius: 4px;
}

/* ====================
   SCROLL PROGRESS
   ==================== */

/* Barra de progresso de leitura (para blog posts) */
.reading-progress {
  position: fixed;
  top: 0;
  left: 0;
  height: 3px;
  background: linear-gradient(
    90deg,
    rgba(125, 168, 123, 0.8),
    rgba(31, 62, 70, 0.8)
  );
  transform-origin: left;
  transform: scaleX(0);
  transition: transform 0.1s linear;
  z-index: 9999;
}

/* ====================
   CURSOR EFFECTS
   ==================== */

/* Cursor personalizado para áreas interativas */
@media (hover: hover) and (pointer: fine) {
  .hero__cta,
  .contato__cta,
  button[data-cal-link],
  a[href] {
    cursor: pointer;
    transition: transform 0.2s ease;
  }

  .hero__cta:active,
  .contato__cta:active,
  button[data-cal-link]:active {
    transform: scale(0.98);
  }
}

/* ====================
   FOCUS STATES
   ==================== */

/* Focus visible aprimorado */
*:focus-visible {
  outline: 2px solid rgba(125, 168, 123, 0.6);
  outline-offset: 3px;
  border-radius: 2px;
}

button:focus-visible,
a:focus-visible {
  outline-color: rgba(31, 62, 70, 0.8);
}

/* ====================
   REVEAL ANIMATIONS
   ==================== */

/* Animação de reveal melhorada */
[data-animate] {
  opacity: 0;
  will-change: opacity, transform;
}

[data-animate].is-visible {
  opacity: 1;
  animation: revealFadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes revealFadeIn {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Stagger com easing suave */
[data-stagger] > * {
  opacity: 0;
  transform: translateY(20px);
  will-change: opacity, transform;
}

[data-stagger] > *.is-visible {
  animation: staggerFadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  animation-delay: var(--stagger-delay, 0ms);
}

@keyframes staggerFadeIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ====================
   IMAGE LAZY LOAD
   ==================== */

img[loading="lazy"] {
  opacity: 0;
  transition: opacity 0.4s ease;
}

img[loading="lazy"].loaded {
  opacity: 1;
}

/* ====================
   MODAL TRANSITIONS
   ==================== */

/* Modais (Cal.com, chat) com backdrop blur */
dialog::backdrop,
[role="dialog"]::backdrop {
  backdrop-filter: blur(8px);
  background: rgba(14, 20, 18, 0.6);
  animation: backdropFadeIn 0.3s ease;
}

@keyframes backdropFadeIn {
  from {
    opacity: 0;
    backdrop-filter: blur(0px);
  }
  to {
    opacity: 1;
    backdrop-filter: blur(8px);
  }
}

/* ====================
   SCROLL SNAP (mobile)
   ==================== */

@media (max-width: 767px) {
  /* Scroll snap suave em seções */
  html {
    scroll-snap-type: y proximity;
  }

  section {
    scroll-snap-align: start;
    scroll-snap-stop: normal;
  }
}

/* ====================
   SMOOTH SCROLLING
   ==================== */

@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }

  /* Inertial scrolling para iOS */
  body {
    -webkit-overflow-scrolling: touch;
  }
}

/* ====================
   PREFERS REDUCED MOTION
   ==================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  [data-parallax] {
    transform: none !important;
  }
}

/* ====================
   GLASS MORPHISM
   ==================== */

.glass {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.glass-dark {
  background: rgba(14, 20, 18, 0.7);
  backdrop-filter: blur(10px) saturate(150%);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ====================
   SELECTION
   ==================== */

::selection {
  background: rgba(125, 168, 123, 0.3);
  color: #1A1A1A;
}

::-moz-selection {
  background: rgba(125, 168, 123, 0.3);
  color: #1A1A1A;
}
